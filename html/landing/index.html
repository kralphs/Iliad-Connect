<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Iliad Connect</title>

  <link rel="icon" type="image/x-icon" href="/static/favicon.ico" />

  <!-- Bootstrap core CSS -->
  <link href="html/landing/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="html/landing/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="html/landing/vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Custom styles for this template -->
  <link href="html/landing/css/landing-page.min.css" rel="stylesheet">
  <link href="html/landing/css/iliad-theme.css" rel="stylesheet">

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-light bg-light static-top">
    <div class="container">
      <a class="navbar-brand" href="#" ><img src="html/landing/img/iliad-logo.png" alt="Iliad Connect" width="150px"></a>
      <a class="btn btn-primary" data-toggle="modal" data-target="#modalLogin">Sign In</a>
    </div>
  </nav>

<div class="modal fade" id="modalLogin">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Sign In</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>More providers will arrive soon!</p>
          <div id="firebaseui-auth-container"></div>
        </div>
      </div>
    </div>
</div>

  <!-- Masthead -->
  <header class="masthead text-white text-center">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-xl-9 mx-auto">
          <h1 class="mb-5">Your time is valuable.</h1> <h3>That's why we're working to automatically connect your Odyssey documents to Clio. Want to keep updated on our progress?</h3><br><br>
        </div>
        <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
          <form>
            <div class="form-row">
              <div class="col-12 col-md-9 mb-2 mb-md-0">
                <input type="email" class="form-control form-control-lg" placeholder="Enter your email...">
              </div>
              <div class="col-12 col-md-3">
                <button type="submit" class="btn btn-block btn-lg btn-primary">Sign up!</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </header>

  <!-- Icons Grid -->
  <section class="features-icons bg-light text-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="icon-screen-desktop m-auto text-primary"></i>
            </div>
            <h3>Benefit 1</h3>
            <p class="lead mb-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="icon-layers m-auto text-primary"></i>
            </div>
            <h3>Benefit 2</h3>
            <p class="lead mb-0">Sed ut perspiciatis unde omnis iste natus error</p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="features-icons-item mx-auto mb-0 mb-lg-3">
            <div class="features-icons-icon d-flex">
              <i class="icon-check m-auto text-primary"></i>
            </div>
            <h3>Benefit 3</h3>
            <p class="lead mb-0">At vero eos et accusamus et iusto odio dignissimos ducimus</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Image Showcases -->
  <section class="showcase">
    <div class="container-fluid p-0">
      <div class="row no-gutters">

        <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url('html/landing/img/bg-showcase-1.jpg');"></div>
        <div class="col-lg-6 order-lg-1 my-auto showcase-text">
          <h2>Benefit 1</h2>
          <p class="lead mb-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        </div>
      </div>
      <div class="row no-gutters">
        <div class="col-lg-6 text-white showcase-img" style="background-image: url('html/landing/img/bg-showcase-2.jpg');"></div>
        <div class="col-lg-6 my-auto showcase-text">
          <h2>Benefit 2</h2>
          <p class="lead mb-0">Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
        </div>
      </div>
      <div class="row no-gutters">
        <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url('html/landing/img/bg-showcase-3.jpg');"></div>
        <div class="col-lg-6 order-lg-1 my-auto showcase-text">
          <h2>Benefit 3</h2>
          <p class="lead mb-0">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
 <!-- <section class="testimonials text-center bg-light">
    <div class="container">
      <h2 class="mb-5">What people are saying...</h2>
      <div class="row">
        <div class="col-lg-4">
          <div class="testimonial-item mx-auto mb-5 mb-lg-0">
            <img class="img-fluid rounded-circle mb-3" src="img/testimonials-1.jpg" alt="">
            <h5>Margaret E.</h5>
            <p class="font-weight-light mb-0">"This is fantastic! Thanks so much guys!"</p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="testimonial-item mx-auto mb-5 mb-lg-0">
            <img class="img-fluid rounded-circle mb-3" src="img/testimonials-2.jpg" alt="">
            <h5>Fred S.</h5>
            <p class="font-weight-light mb-0">"Bootstrap is amazing. I've been using it to create lots of super nice landing pages."</p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="testimonial-item mx-auto mb-5 mb-lg-0">
            <img class="img-fluid rounded-circle mb-3" src="img/testimonials-3.jpg" alt="">
            <h5>Sarah W.</h5>
            <p class="font-weight-light mb-0">"Thanks so much for making these free resources available to us!"</p>
          </div>
        </div>
      </div>
    </div>
  </section>
-->
  <!-- Call to Action -->
  <section class="call-to-action text-white text-center">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-xl-9 mx-auto">
          <h2 class="mb-4">Ready to get started? Sign up now!</h2>
        </div>
        <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
          <form>
            <div class="form-row">
              <div class="col-12 col-md-9 mb-2 mb-md-0">
                <input type="email" class="form-control form-control-lg" placeholder="Enter your email...">
              </div>
              <div class="col-12 col-md-3">
                <button type="submit" class="btn btn-block btn-lg btn-primary">Sign up!</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
          <ul class="list-inline mb-2">
            <li class="list-inline-item">
              <a href="#">About</a>
            </li>
            <li class="list-inline-item">&sdot;</li>
            <li class="list-inline-item">
              <a href="#">Contact</a>
            </li>
            <li class="list-inline-item">&sdot;</li>
            <li class="list-inline-item">
              <a href="#">Terms of Use</a>
            </li>
            <li class="list-inline-item">&sdot;</li>
            <li class="list-inline-item">
              <a href="#">Privacy Policy</a>
            </li>
          </ul>
          <p class="text-muted small mb-4 mb-lg-0">&copy; Calliope LLC 2019. All Rights Reserved.</p>
        </div>
        <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
          <ul class="list-inline mb-0">
            <li class="list-inline-item mr-3">
              <a href="#">
                <i class="fab fa-facebook fa-2x fa-fw"></i>
              </a>
            </li>
            <li class="list-inline-item mr-3">
              <a href="#">
                <i class="fab fa-twitter-square fa-2x fa-fw"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="#">
                <i class="fab fa-instagram fa-2x fa-fw"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="html/landing/vendor/jquery/jquery.min.js"></script>
  <script src="html/landing/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <script src="https://cdn.firebase.com/libs/firebaseui/3.5.1/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.1/firebaseui.css" />
  <link type="text/css" rel="stylesheet" href="/static/style.css" />

  
  <script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>
  <script>
      // Initialize Firebase
      var config = {
          apiKey: "AIzaSyBDQSrJenljnhUiRce5tUgSRJjRoapXkT0",
          authDomain: "iliad-connect-227218.firebaseapp.com",
          databaseURL: "https://iliad-connect-227218.firebaseio.com",
          projectId: "iliad-connect-227218",
          storageBucket: "iliad-connect-227218.appspot.com",
          messagingSenderId: "502779193562"
      };
      firebase.initializeApp(config);
      firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);
  </script>
  <script type="text/javascript"> 

      function postIdTokenToSessionLogin(csrfToken, idToken) {
          var xhr = new XMLHttpRequest();
          formData = new FormData();

          formData.set("token", idToken);
          formData.set("gorilla.csrf.Token",csrfToken)
          xhr.open('POST','/sessionLogin', false);
          xhr.send(formData);
      };

      function getSessionCSRFToken() {
        var xhr = new XMLHttpRequest();

        return new Promise(function (resolve, reject) {
          xhr.onload = function () {
            if (xhr.readyState=== 4 && xhr.status === 200) {
              resolve(xhr);
            } else {
              reject({
				    	  status: xhr.status,
					      statusText: xhr.statusText
				      });
            };
          };
          xhr.open('GET', '/sessionLogin', true);
          xhr.send(null);
        });
      };

      // FirebaseUI config.
      var uiConfig = {
          signInSuccessUrl: '/',
          signInOptions: [
              // Leave the lines as is for the providers you want to offer your users.
              firebase.auth.GoogleAuthProvider.PROVIDER_ID
          ],
          // tosUrl and privacyPolicyUrl accept either url string or a callback
          // function.
          // Terms of service url/callback.
          tosUrl: '<your-tos-url>',
          // Privacy policy url/callback.
          privacyPolicyUrl: function() {
              window.location.assign('<your-privacy-policy-url>');
          }
      };

      initApp = function() {
          firebase.auth().onAuthStateChanged(function(user) {
              if (user) {
                  // Get the user's ID token as it is needed to exchange for a session cookie.
                  return user.getIdToken().then(idToken => {
                      // Session login endpoint is queried and the session cookie is set.
                      // CSRF protection should be taken into account.
                      // ...  
                      getSessionCSRFToken().then(xhr => {
                        postIdTokenToSessionLogin(xhr.getResponseHeader('X-CSRF-TOKEN'), idToken)
                      }).catch(error => {
                        console.log('Failed to retrieve session token')
                      });
                  }).then(() => {
                      // A page redirect would suffice as the persistence is set to NONE.
                      return firebase.auth().signOut();
                  }).then(() => {
                      window.location.assign('/profile');
                  });
              } else {
                  // User is signed out.
              
                  // Initialize the FirebaseUI Widget using Firebase.
                  var ui = new firebaseui.auth.AuthUI(firebase.auth());
                  // The start method will wait until the DOM is loaded.
                  ui.start('#firebaseui-auth-container', uiConfig);
              }
          }, function(error) {
              console.log(error);
          });
      };

      window.addEventListener('load', function() {
          initApp()
      });
  </script>

</body>

</html>
